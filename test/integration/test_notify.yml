---
- name: run notify with host vars
  hosts: A:B
  gather_facts: False
  connection: local
  tasks:
    - name: notify with host vars
      command: echo
      notify: '{{handlers_list}}'
  handlers:
    - name: foo
      debug: msg="foo handler"
    - name: bar
      debug: msg="bar handler"
    - name: scalar
      debug: msg="scalar handler"

- name: run notify with play vars
  hosts: A:B
  vars:
    handlers_list:
      - play_foo
  gather_facts: False
  connection: local
  tasks:
    - name: notify with play vars
      command: echo
      notify: '{{handlers_list}}'
  handlers:
    - name: play_foo
      debug: msg="play_foo handler"

- name: run notify with included vars
  hosts: A:B
  gather_facts: False
  connection: local
  tasks:
    - include_vars: vars/test_notify_vars.yml
    - name: notify with included vars
      command: echo
      notify: '{{handlers_list}}'
  handlers:
    - name: included_foo
      debug: msg="included_foo handler"

- name: run notify with role default vars
  hosts: C:D:E
  gather_facts: False
  connection: local
  roles:
    - role: test_notify
  handlers:
    - name: notify_host_c
      debug: msg="notify_host_c handler"
