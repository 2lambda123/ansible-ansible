---
- name: "Lookup test"
  hosts: "localhost"
#  connection: local
  tasks:
    - name: "read"
      set_fact:
        test1:            "{{lookup('csvfile', 'value1           delimiter=PROPERTIES file=lookup.properties')}}"
        test2:            "{{lookup('csvfile', 'value2           delimiter=PROPERTIES file=lookup.properties')}}"
        test_dot:         "{{lookup('csvfile', 'value.dot        delimiter=PROPERTIES file=lookup.properties')}}"
        field_with_space: "{{lookup('csvfile', 'field.with.space delimiter=PROPERTIES file=lookup.properties')}}"
    - debug: var={{item}}
      with_items: [ 'test1', 'test2', 'test_dot', 'field_with_space' ]
