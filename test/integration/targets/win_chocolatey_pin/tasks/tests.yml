---
# tasks file for test.win_chocolatey_pin

- name: pin notepadplusplus (check mode)
  win_chocolatey_pin:
    name: notepadplusplus
  register: register_pin_notepadplusplus
  check_mode: true

- name: assert pin notepadplusplus (check mode)
  assert:
    that:
    - register_pin_notepadplusplus is changed
 
- name: pin notepadplusplus
  win_chocolatey_pin:
    name: notepadplusplus
  register: register_pin_notepadplusplus

- name: assert pin notepadplusplus 
  assert:
    that:
    - register_pin_notepadplusplus is changed

- name: failed invalid packges (check mode)
  win_chocolatey_pin:
    name: fake
  register: register_failed_invalid_packages
  check_mode: true

- name: assert failed invalid packages (check mode)
  assert:
    that:
    - register_failed_invalid_packages is changed

- name: failed invalid packges
  win_chocolatey_pin:
    name: fake
  register: register_failed_invalid_packages
  ignore_errors: true

- name: assert failed invalid packages
  assert:
    that:
    - register_failed_invalid_packages is changed
  ignore_errors: true

- name: remove Pin notepadplusplus (check mode)
  win_chocolatey_pin:
    name: notepadplusplus
    state: unpinned
  register: register_remove_pin_notepadplusplus
  check_mode: true

- name: assert pin notepadplusplus (check mode)
  assert:
    that:
    - register_remove_pin_notepadplusplus is changed

- name: remove pin notepadplusplus
  win_chocolatey_pin:
    name: firefox
    state: unpinned
  register: register_remove_pin_notepadplusplus

- name: assert pin notepadplusplus
  assert:
    that:
    - register_remove_pin_notepadplusplus is changed
