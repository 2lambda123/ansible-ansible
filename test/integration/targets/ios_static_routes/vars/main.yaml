---
merged:
  before:

  commands:
    - "ip route vrf blue 192.168.2.0 255.255.255.0 10.0.0.8 name test_vrf_blue track 150 tag 50"
    - "ip route 192.168.3.0 255.255.255.0 10.0.0.1 110 multicast name route_1 tag 40"
    - "ip route 192.168.3.0 255.255.255.0 10.0.0.2 30 name route_2"
    - "ip route 192.168.3.0 255.255.255.0 10.0.0.3 name route_3"
    - "ipv6 route FD5D:12C9:2201:1::/64 FD5D:12C9:2202::2 name test_v6 tag 105"

  after:
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.2.0/24
          next_hops:
          - forward_router_address: 10.0.0.8
            name: test_vrf_blue
            tag: 50
            track: 150
      vrf: blue
    - address_families:
      - afi: ipv6
        routes:
        - dest: FD5D:12C9:2201:1::/64
          next_hops:
          - forward_router_address: FD5D:12C9:2202::2
            name: test_v6
            tag: 105
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.3.0/24
          next_hops:
          - distance_metric: 110
            forward_router_address: 10.0.0.1
            multicast: true
            name: route_1
            tag: 40
          - distance_metric: 30
            forward_router_address: 10.0.0.2
            name: route_2
          - forward_router_address: 10.0.0.3
            name: route_3

replaced:
  before:
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.2.0/24
          next_hops:
          - forward_router_address: 10.0.0.8
            name: test_vrf_blue
            tag: 50
            track: 150
      vrf: blue
    - address_families:
      - afi: ipv6
        routes:
        - dest: FD5D:12C9:2201:1::/64
          next_hops:
          - forward_router_address: FD5D:12C9:2202::2
            name: test_v6
            tag: 105
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.3.0/24
          next_hops:
          - distance_metric: 110
            forward_router_address: 10.0.0.1
            multicast: true
            name: route_1
            tag: 40
          - distance_metric: 30
            forward_router_address: 10.0.0.2
            name: route_2
          - forward_router_address: 10.0.0.3
            name: route_3

  commands:
    - "ip route vrf blue 192.168.2.0 255.255.255.0 10.0.0.8 name replaced_vrf_new track 155 tag 75"
    - "ip route 192.168.3.0 255.255.255.0 10.0.0.1 175 multicast name replaced_route tag 70"
    - "ipv6 route FD5D:12C9:2201:1::/64 FD5D:12C9:2202::2 name replaced_v6 tag 110"

  after:
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.2.0/24
          next_hops:
          - forward_router_address: 10.0.0.8
            name: replaced_vrf_new
            tag: 75
            track: 155
      vrf: blue
    - address_families:
      - afi: ipv6
        routes:
        - dest: FD5D:12C9:2201:1::/64
          next_hops:
          - forward_router_address: FD5D:12C9:2202::2
            name: replaced_v6
            tag: 110
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.3.0/24
          next_hops:
          - distance_metric: 175
            forward_router_address: 10.0.0.1
            multicast: true
            name: replaced_route
            tag: 70
          - distance_metric: 30
            forward_router_address: 10.0.0.2
            name: route_2
          - forward_router_address: 10.0.0.3
            name: route_3

overridden:
  before:
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.2.0/24
          next_hops:
          - forward_router_address: 10.0.0.8
            name: test_vrf_blue
            tag: 50
            track: 150
      vrf: blue
    - address_families:
      - afi: ipv6
        routes:
        - dest: FD5D:12C9:2201:1::/64
          next_hops:
          - forward_router_address: FD5D:12C9:2202::2
            name: test_v6
            tag: 105
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.3.0/24
          next_hops:
          - distance_metric: 110
            forward_router_address: 10.0.0.1
            multicast: true
            name: route_1
            tag: 40
          - distance_metric: 30
            forward_router_address: 10.0.0.2
            name: route_2
          - forward_router_address: 10.0.0.3
            name: route_3

  commands:
    - "no ip route vrf blue 192.168.2.0 255.255.255.0 10.0.0.8 name test_vrf_blue track 150 tag 50"
    - "no ip route 192.168.3.0 255.255.255.0 10.0.0.1 110 multicast name route_1 tag 40"
    - "no ip route 192.168.3.0 255.255.255.0 10.0.0.2 30 name route_2"
    - "no ip route 192.168.3.0 255.255.255.0 10.0.0.3 name route_3"
    - "no ipv6 route FD5D:12C9:2201:1::/64 FD5D:12C9:2202::2 name test_v6 tag 105"
    - "ip route vrf blue 192.168.2.0 255.255.255.0 10.0.0.4 name override_vrf track 150 tag 50"
    - "ip route 192.168.3.0 255.255.255.0 10.0.0.3 name override_route multicast"
    - "ipv6 route FD5D:12C9:2201:1::/64 FD5D:12C9:2202::2 name override_v6 tag 175"


  after:
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.2.0/24
          next_hops:
          - forward_router_address: 10.0.0.4
            name: override_vrf
            tag: 50
            track: 150
      vrf: blue
    - address_families:
      - afi: ipv6
        routes:
        - dest: FD5D:12C9:2201:1::/64
          next_hops:
          - forward_router_address: FD5D:12C9:2202::2
            name: override_v6
            tag: 175
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.3.0/24
          next_hops:
          - forward_router_address: 10.0.0.3
            multicast: True
            name: override_route

deleted:
  before:
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.2.0/24
          next_hops:
          - forward_router_address: 10.0.0.8
            name: test_vrf_blue
            tag: 50
            track: 150
      vrf: blue
    - address_families:
      - afi: ipv6
        routes:
        - dest: FD5D:12C9:2201:1::/64
          next_hops:
          - forward_router_address: FD5D:12C9:2202::2
            name: test_v6
            tag: 105
    - address_families:
      - afi: ipv4
        routes:
        - dest: 192.168.3.0/24
          next_hops:
          - distance_metric: 110
            forward_router_address: 10.0.0.1
            multicast: true
            name: route_1
            tag: 40
          - distance_metric: 30
            forward_router_address: 10.0.0.2
            name: route_2
          - forward_router_address: 10.0.0.3
            name: route_3

  commands:
    - "no ip route vrf blue 192.168.2.0 255.255.255.0 10.0.0.8 name test_vrf_blue track 150 tag 50"
    - "no ip route 192.168.3.0 255.255.255.0 10.0.0.1 110 multicast name route_1 tag 40"
    - "no ip route 192.168.3.0 255.255.255.0 10.0.0.2 30 name route_2"
    - "no ip route 192.168.3.0 255.255.255.0 10.0.0.3 name route_3"
    - "no ipv6 route FD5D:12C9:2201:1::/64 FD5D:12C9:2202::2 name test_v6 tag 105"

  after:

