---
- name: test callback task banners for unqualified actions/modules
  hosts: localhost
  gather_facts: no
  collections:
    - test_ns.test_coll
    # ansible.legacy is auto-appended
  tasks:
    - legacy_action:
      collections: []  # ansible.legacy is not auto-appended

    - legacy_action:

    - legacy_module:
      collections: []  # ansible.legacy is not auto-appended

    - legacy_module:

    - custom_action:

    - redirected_action:

    - custom_module:

    - redirected_module:

- name: test callback task banners for fq actions/modules
  hosts: localhost
  gather_facts: no
  tasks:
    - ansible.legacy.legacy_action:

    - ansible.legacy.legacy_module:

    - test_ns.test_coll.custom_action:

    - test_ns.test_coll.redirected_action:

    - test_ns.test_coll.custom_module:

    - test_ns.test_coll.redirected_module:

- name: test callback banners in roles
  hosts: localhost
  gather_facts: no
  tasks:
  - include_role: name=legacy_role

  - include_role: name=test_ns.test_coll.collection_role
