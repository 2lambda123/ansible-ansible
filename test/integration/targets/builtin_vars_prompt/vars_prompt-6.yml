- name: Test vars_prompt custom variables in prompt
  hosts: testhost
  become: false
  gather_facts: false

  vars:
    prompt_var: prompt from variable

  vars_prompt:
    - name: input
      prompt: "{{ prompt_var }}"

  tasks:
    - name:
      assert:
        that:
          - input == 'input'

    - debug:
        var: input
