- hosts: 127.0.0.1
  gather_facts: no
  connection: local
  tasks:
  - name: Reserve and IPv4 address
    ntt_mcp_ipam_reserve:
      region: na
      datacenter: NA12
      network_domain: myCND
      vlan: myVLAN
      ip_address: 10.1.77.100
      state: present
    register: ipam
    tags:
      - reserve_ipv4

  - debug:
      var: ipam
    tags:
      - reserve_ipv4

  - name: Reserve and IPv6 address
    ntt_mcp_ipam_reserve:
      region: na
      datacenter: NA12
      network_domain: myCND
      vlan: myVLAN
<<<<<<< HEAD
      ip_address: 2607:f480:211:1198:0:0:0:100
=======
      ip_address: 2607:f480:211:1277:0:0:0:100
>>>>>>> a7e5b0f5d0df929597e380ab6dd9e7d22d714b53
      state: present
    register: ipam
    tags:
      - reserve_ipv6

  - debug:
      var: ipam
    tags:
      - reserve_ipv6

<<<<<<< HEAD
  - name: Reserve an IPv4 address - invalid IPv4 address
=======
  - name: Reserve and IPv4 address - invalid IPv4 address
>>>>>>> a7e5b0f5d0df929597e380ab6dd9e7d22d714b53
    ntt_mcp_ipam_reserve:
      region: na
      datacenter: NA12
      network_domain: myCND
      vlan: myVLAN
<<<<<<< HEAD
      ip_address: 10.7.78.100
=======
      ip_address: 10.1.78.100
>>>>>>> a7e5b0f5d0df929597e380ab6dd9e7d22d714b53
      state: present
    register: ipam
    tags:
      - reserve_ipv4_invalid

  - debug:
      var: ipam
    tags:
      - reserve_ipv4_invalid

<<<<<<< HEAD
  - name: Unreserve an IPv4 address
=======
  - name: Unreserve and IPv4 address
>>>>>>> a7e5b0f5d0df929597e380ab6dd9e7d22d714b53
    ntt_mcp_ipam_reserve:
      region: na
      datacenter: NA12
      network_domain: myCND
      vlan: myVLAN
      ip_address: 10.1.77.100
      state: absent
    register: ipam
    tags:
      - unreserve_ipv4

  - debug:
      var: ipam
    tags:
      - unreserve_ipv4

  - name: Unreserve and IPv6 address
    ntt_mcp_ipam_reserve:
      region: na
      datacenter: NA12
      network_domain: myCND
      vlan: myVLAN
<<<<<<< HEAD
      ip_address: 2607:f480:211:1198:0:0:0:100
=======
      ip_address: 2607:f480:211:1277:0:0:0:100
>>>>>>> a7e5b0f5d0df929597e380ab6dd9e7d22d714b53
      state: absent
    register: ipam
    tags:
      - unreserve_ipv6

  - debug:
      var: ipam
    tags:
      - unreserve_ipv6
