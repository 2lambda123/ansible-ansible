- hosts: 127.0.0.1
  connection: local
  gather_facts: no
  tasks:
  - name: Add a disk to a server
    nttc_cis_server_disk:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      type: SCSI
      size: 10
      speed: STANDARD
      state: present
    register: server
    tags:
      - create

  - debug:
      var: server
    tags:
      - create

  - name: Add a disk to a server
    nttc_cis_server_disk:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      type: SCSI
      size: 10
      speed: STANDARD
      disk_number: 2
      state: present
    register: server
    tags:
      - create_2

  - debug:
      var: server
    tags:
      - create_2

  - name: Add a Provisioned IOPs disk to a server
    nttc_cis_server_disk:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      type: SCSI
      size: 10
      speed: PROVISIONEDIOPS
      iops: 20
      state: present
    register: server
    tags:
      - create_iops

  - debug:
      var: server
    tags:
      - create_iops

  - name: Update a disk on a server
    nttc_cis_server_disk:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      type: SCSI
      controller_number: 0
      disk_number: 1
      speed: PROVISIONEDIOPS
      size: 20
      iops: 10
      state: present
    register: server
    tags:
      - update

  - debug:
      var: server
    tags:
      - update

  - name: Delete a disk to a server
    nttc_cis_server_disk:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      type: SCSI
      controller_number: 0
      disk_number: 1
      state: absent
    register: server
    tags:
      - delete

  - debug:
      var: server
    tags:
      - delete
