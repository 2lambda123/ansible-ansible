- hosts: 127.0.0.1
  gather_facts: no
  connection: local
  tasks:
  - nttc_cis_ip_list:
      region: na
      datacenter: NA12
      network_domain: "myCND"
      version: IPV4
      name: "myIpAddressList"
      ip_addresses:
        - begin: "10.0.7.10"
        - begin: "10.1.7.0"
          end: "10.1.7.128"
      state: present
    register: ip
    tags:
      - create

  - debug:
      var: ip
    tags:
      - create

  - nttc_cis_ip_list:
      region: na
      datacenter: NA12
      network_domain: "myCND"
      version: IPV4
      name: "myIpAddressList2"
      ip_addresses:
        - begin: "10.0.8.10"
        - begin: "10.1.8.0"
          prefix: 24
      child_ip_lists:
        - myIpAddressList
      state: present
    register: ip
    tags:
      - create

  - debug:
      var: ip
    tags:
      - create

  - nttc_cis_ip_list:
      region: na
      datacenter: NA12
      network_domain: "myCND"
      version: IPV6
      name: "myIpAddressList3"
      ip_addresses:
        - begin: "fc00::01"
        - begin: "fc01::00"
          prefix: "64"
        - begin: "fc02::01"
          end: "fc02::10"
      state: present
    register: ip
    tags:
      - create

  - debug:
      var: ip
    tags:
      - create

  - nttc_cis_ip_list:
      region: na
      datacenter: NA12
      network_domain: "myCND"
      version: IPV4
      name: "myIpAddressList2"
      ip_addresses:
        - begin: "10.0.0.177"
          end: "10.0.0.179"
        - begin: "10.1.8.0"
          prefix: 24
      child_ip_lists_nil: True
      state: present
    register: ip
    tags:
      - update

  - debug:
      var: ip
    tags:
      - update

  - nttc_cis_ip_list:
      region: na
      datacenter: NA12
      network_domain: "myCND"
      name: "myIpAddressList2"
      state: absent
    register: ip
    tags:
      - delete_all
      - delete

  - debug:
      var: ip
    tags:
      - delete_all
      - delete

  - nttc_cis_ip_list:
      region: na
      datacenter: NA12
      network_domain: "myCND"
      name: "myIpAddressList"
      state: absent
    register: ip
    tags:
      - delete_all

  - debug:
      var: ip
    tags:
      - delete_all

  - nttc_cis_ip_list:
      region: na
      datacenter: NA12
      network_domain: "myCND"
      name: "myIpAddressList3"
      state: absent
    register: ip
    tags:
      - delete_all
      - delete

  - debug:
      var: ip
    tags:
      - delete_all
      - delete
