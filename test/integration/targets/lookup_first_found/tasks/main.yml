/bin/bash: /: Is a directory
  set_fact:
    file_found_dict_var: "{{ item }}"
  with_first_found:
    - files:
        - "{{ this_var_does_not_exist }}"
        - "{{ role_path + '/files/foo1' }}"

- name: verify task does work
  assert:
    that:
      - "file_found_dict_var == first_expected"

- name: test first_found with files with non-existing key works (list)
  set_fact:
    file_found_list_var: "{{ item }}"
  with_first_found:
    - "{{ this_var_is_empty.key_does_not_exist }}"
    - "{{ role_path + '/files/foo1' }}"

- name: verify task does work
  assert:
    that:
      - "file_found_list_var == first_expected"

- name: test first_found with files with non-existing variables works (dict)
  set_fact:
    file_found_dict_var: "{{ item }}"
  with_first_found:
    - files:
        - "{{ this_var_is_empty.key_does_not_exist }}"
        - "{{ role_path + '/files/foo1' }}"
  vars:
    this_var_is_empty: null

- name: verify task does work
  assert:
    that:
      - "file_found_dict_var == first_expected"

- name: test first_found with files with non-existing key works (list)
  set_fact:
    file_found_list_var: "{{ item }}"
  with_first_found:
    - "{{ this_var_is_empty.key_does_not_exist }}"
    - "{{ role_path + '/files/foo1' }}"
  vars:
    this_var_is_empty: null

- name: verify task does work
  assert:
    that:
      - "file_found_list_var == first_expected"
