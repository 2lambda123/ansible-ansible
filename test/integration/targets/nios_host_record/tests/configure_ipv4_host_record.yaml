---
- debug: msg="START cli/set_domain_search.yaml on connection={{ ansible_connection }}"

- name: config ipv4 host record
  nios_host_record:
    name: host_record_v4.ansible.com
      ipv4:
        - address: 192.168.10.1/24
      state: present
      provider: "{{ cli }}"
    connection: local

- name: config ipv6 host record
  nios_host_record:
    name: host_record_v6.ansible.com
      ipv4:
        - address: fe80::/24
      state: present
      provider: "{{ cli }}"
    connection: local

- name: add a comment to an existing ipv4 host record
  nios_host_record:
    name: host_record_v4.ansible.com
    ipv4:
      - address: 192.168.10.1/24
    comment: this is a v4 test comment
    state: present
    provider: "{{ cli }}"
  connection: local

- name: add a comment to an existing ipv6 host record
  nios_host_record:
    name: host_record_v6.ansible.com
    ipv4:
      - address: fe80::/24
    comment: this is a v6 test comment
    state: present
    provider: "{{ cli }}"
  connection: local

- name: remove a ipv4 host record from the system
  nios_host_record:
    name: host_record_v4.ansible.com
    state: absent
    provider: provider: "{{ cli }}"
  connection: local

- name: remove a ipv6 host record from the system
  nios_host_record:
    name: host_record_v6.ansible.com
    state: absent
    provider: provider: "{{ cli }}"
  connection: local