- hosts: 127.0.0.1
  connection: local
  gather_facts: no
  tasks:
  - name: Add a nic to a server
    nttc_cis_server_nic:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      vlan: myVLAN2
      type: VMXNET3
      state: present
    register: server
    tags:
      - add_nic_noip

  - debug:
      var: server
    tags:
      - add_nic_noip

  - name: Delete a nic from a server by VLAN
    nttc_cis_server_nic:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      vlan: myVLAN2
      state: absent
    register: server
    tags:
      - delete_nic

  - debug:
      var: server
    tags:
      - delete_nic

  - name: Add a nic to a server
    nttc_cis_server_nic:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      vlan: myVLAN2
      ipv4_address: "10.1.78.20"
      type: VMXNET3
      state: present
    register: server
    tags:
      - add_nic_ip

  - debug:
      var: server
    tags:
      - add_nic_ip

  - name: Exchange 2 nics in a server
    nttc_cis_server_nic:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      vlan: myVLAN
      vlan_2: myVLAN2
      type: E1000
      state: exchange
    register: server
    tags:
      - exchange_nic

  - debug:
      var: server
    tags:
      - exchange_nic

  - name: Exchange 2 nics in a server (back)
    nttc_cis_server_nic:
      region: na
      datacenter: NA12
      network_domain: myCND
      server: myServer01
      vlan: myVLAN2
      vlan_2: myVLAN
      type: E1000
      state: exchange
    register: server
    tags:
      - exchange_nic_back

  - debug:
      var: server
    tags:
      - exchange_nic_back
