- hosts: 127.0.0.1
  gather_facts: no
  connection: local
  tasks:
  - nttc_cis_firewall:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: Ipv4.ACL_01
      protocol: UDP
      src_ip: 172.16.0.0
      src_ip_prefix: "24"
      src_port_start: ANY
      dst_ip: 10.1.77.0
      dst_ip_prefix: "24"
      dst_port_start: "80"
      dst_port_end: "81"
      state: present
    register: fw
    tags:
      - create

  - debug:
      var: fw
    tags:
      - create

  - nttc_cis_firewall:
      region: na
      datacenter: NA12
      network_domain: "myCND"
      name: "Ipv6.ACL_02"
      version: IPV6
      protocol: TCP
      src_ip: "fc00::"
      src_ip_prefix: "64"
      src_port_start: "ANY"
      dst_ip: "fc01::10"
      dst_ip_prefix: "128"
      dst_port_start: "80"
      dst_port_end: "81"
      state: present
    register: fw
    tags:
      - create

  - debug:
      var: fw
    tags:
      - create

  - nttc_cis_firewall:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: Ipv4.ACL_03
      protocol: TCP
      src_ip_list:  myIpAddressList2
      src_port_start: "80"
      src_port_end: "81"
      dst_ip_list:  myIpAddressList
      dst_port_list: myPortList
      state: present
    register: fw
    tags:
      - create

  - debug:
      var: fw
    tags:
      - create

  - nttc_cis_firewall:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: Ipv4.ACL_03
      protocol: TCP
      src_ip: 172.16.0.0
      src_ip_prefix: "24"
      src_port_start: ANY
      dst_ip_list:  myIpAddressList
      dst_port_list: myPortList
      state: present
    register: fw
    tags:
      - update

  - debug:
      var: fw
    tags:
      - update

  - nttc_cis_firewall:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: Ipv4.ACL_01
      state: absent
    register: fw
    tags:
      - delete_all

  - debug:
      var: fw
    tags:
      - delete_all

  - nttc_cis_firewall:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: Ipv6.ACL_02
      state: absent
    register: fw
    tags:
      - delete_all
      - delete

  - debug:
      var: fw
    tags:
      - delete_all
      - delete

  - nttc_cis_firewall:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: Ipv4.ACL_03
      state: absent
    register: fw
    tags:
      - delete_all
      - delete

  - debug:
      var: fw
    tags:
      - delete_all
      - delete
