- hosts: 127.0.0.1
  gather_facts: no
  connection: local
  tasks:
  - name: Create IPv4 Route
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: route01
      cidr: "10.0.0.0/25"
      next_hop: 10.1.77.6
      state: present
    register: route
    tags:
      - create_ipv4

  - debug:
      var: route
    tags:
      - create_ipv4

  - name: Update IPv4 Route
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: route01
      cidr: "10.0.0.0/25"
      next_hop: 10.1.77.7
      state: present
    register: route
    tags:
      - update_ipv4

  - debug:
      var: route
    tags:
      - update_ipv4

  - name: Create IPv6 Route
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: route02
      cidr: "2402:9900:111:1258:0:0:0:0/64"
      next_hop: "2607:f480:211:1277:4685:5272:2b2e:ac17"
      state: present
    register: route
    tags:
      - create_ipv6

  - debug:
      var: route
    tags:
      - create_ipv6

  - name: Create an invalid IPv4 Route
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: route01
      cidr: "10.300.0.0/gg"
      next_hop: 10.1.77.6
      state: present
    register: route
    tags:
      - create_ipv4_invalid

  - debug:
      var: route
    tags:
      - create_ipv4_invalid

  - name: Create an invalid next hop
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: route01
      cidr: "10.2.0.0/24"
      next_hop: 10.1.777.6
      state: present
    register: route
    tags:
        - create_ipv4_invalid2

  - debug:
      var: route
    tags:
      - create_ipv4_invalid2

  - name: Delete IPv4 Route
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: route01
      state: absent
    register: route
    tags:
      - delete_ipv4
      - delete_all

  - debug:
      var: route
    tags:
      - delete_ipv4
      - delete_all

  - name: Create IPv4 Route
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: route01
      cidr: "10.0.0.0/25"
      next_hop: 10.1.77.6
      state: present
    register: route
    tags:
      - delete_ipv4_by_cidr

  - debug:
      var: route
    tags:
      - delete_ipv4_by_cidr

  - name: Delete IPv4 Route
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      cidr: "10.0.0.0/25"
      next_hop: 10.1.77.6
      state: absent
    register: route
    tags:
      - delete_ipv4_by_cidr
      - delete_all

  - debug:
      var: route
    tags:
      - delete_ipv4_by_cidr
      - delete_all

  - name: Delete IPv6 Route
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      name: route02
      state: absent
    register: route
    tags:
      - delete_ipv6
      - delete_all

  - debug:
      var: route
    tags:
      - delete_ipv6
      - delete_all

  - name: Restore routes to defaults
    nttc_cis_static_route:
      region: na
      datacenter: NA12
      network_domain: myCND
      state: restore
    register: route
    tags:
      - restore

  - debug:
      var: route
    tags:
      - restore
