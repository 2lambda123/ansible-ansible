- hosts: 127.0.0.1
  gather_facts: no
  connection: local
  tasks:
  - name: List all reserved private IPv4 addresses for a VLAN
    ntt_mcp_ipam_info:
      region: na
      datacenter: NA12
      network_domain: myCND
      vlan: myVLAN
      reserved: True
      version: 4
    register: ipam
    tags:
      - list_reserved_ipv4

  - debug:
      var: ipam
    tags:
      - list_reserved_ipv4

  - name: List all reserved private IPv4 addresses for a CND
    ntt_mcp_ipam_info:
      region: na
      datacenter: NA12
      network_domain: myCND
      reserved: True
      version: 4
    register: ipam
    tags:
      - list_reserved_ipv4_novlan

  - debug:
      var: ipam
    tags:
      - list_reserved_ipv4_novlan

  - name: List all reserved IPv6 addresses for a VLAN
    ntt_mcp_ipam_info:
      region: na
      datacenter: NA12
      network_domain: myCND
      vlan: myVLAN
      reserved: True
      version: 6
    register: ipam
    tags:
      - list_reserved_ipv6

  - debug:
      var: ipam
    tags:
      - list_reserved_ipv6

  - name: List all public IPv4 blocks for a CND
    ntt_mcp_ipam_info:
      region: na
      datacenter: NA12
      network_domain: myCND
    register: ipam
    tags:
      - list_public

  - debug:
      var: ipam
    tags:
      - list_public

  - name: Get a public IPv4 block by IP address
    ntt_mcp_ipam_info:
      region: na
      datacenter: NA12
      network_domain: myCND
<<<<<<< HEAD
      public_ip_address: 168.128.29.247
=======
      public_ip_address: 168.128.31.151
>>>>>>> a7e5b0f5d0df929597e380ab6dd9e7d22d714b53
    register: ipam
    tags:
      - get_public_block_by_ip

  - debug:
      var: ipam
    tags:
      - get_public_block_by_ip

  - name: Get a public IPv4 block by UUID
    ntt_mcp_ipam_info:
      region: na
      datacenter: NA12
      network_domain: myCND
<<<<<<< HEAD
      id: 62917e68-1425-11e5-8c14-b8ca3a5d9ef8
=======
      id: 62989e46-1425-11e5-8c14-b8ca3a5d9ef8
>>>>>>> a7e5b0f5d0df929597e380ab6dd9e7d22d714b53
    register: ipam
    tags:
      - get_public_block_by_id

  - debug:
      var: ipam
    tags:
      - get_public_block_by_id
