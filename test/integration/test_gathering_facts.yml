---

- hosts: localhost
  tags: [ 'min' ]
  connection: local
  gather_subset: "!all"
  gather_facts: yes
  tasks:
    - debug: var={{item}}
      with_items: [ 'ansible_user_id', 'ansible_interfaces', 'ansible_mounts', 'ansible_virtualization_role'  ]

- hosts: localhost
  tags: [ 'network' ]
  connection: local
  gather_subset: "network"
  gather_facts: yes
  tasks:
    - debug: var={{item}}
      with_items: [ 'ansible_user_id', 'ansible_interfaces', 'ansible_mounts', 'ansible_virtualization_role' ]

- hosts: localhost
  tags: [ 'hardware' ]
  connection: local
  gather_subset: "hardware"
  gather_facts: yes
  tasks:
    - debug: var={{item}}
      with_items: [ 'ansible_user_id', 'ansible_interfaces', 'ansible_mounts', 'ansible_virtualization_role' ]

- hosts: localhost
  tags: [ 'virtual' ]
  connection: local
  gather_subset: "virtual"
  gather_facts: yes
  tasks:
    - debug: var={{item}}
      with_items: [ 'ansible_user_id', 'ansible_interfaces', 'ansible_mounts', 'ansible_virtualization_role' ]
