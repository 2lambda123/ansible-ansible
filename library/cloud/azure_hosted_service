#!/usr/bin/python
from azure.servicemanagement import *
from ansible.module_utils.azure import *

import json

def create_hosted_service(module):
    name = module.params.get('name')
    label = module.params.get('label')
    desc = module.params.get('desc')
    location = module.params.get('location')
    sms = Azure.get_sms(module)
    return create_hosted_service(name, label, desc, location, sms)

def create_hosted_service(name, label, desc, location, sms):
    return sms.create_hosted_service(name, label, desc, location)


def main():

    argument_spec.update(dict(
            name = dict(aliases=['NAME'], type='str'),
            label = dict(aliases=['LABEL'], type='str'),
            desc = dict(aliases=['DESC'], type='str'),
            location = dict(aliases=['LOCATION'], type='str')))

    module = AnsibleModule(argument_spec=argument_spec)

    module.exit_json(msg="Create VM complete", hosted_service=create_hosted_service(module))

# import module snippets
from ansible.module_utils.basic import *

main()
