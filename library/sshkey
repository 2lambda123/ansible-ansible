#!/usr/bin/env python
"""Ansible module to add authorized_keys for ssh logins.

(c) 2012, Brad Olson <brado@movedbylight.com>

This file is part of Ansible

Ansible is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Ansible is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
"""

try:
    import json
except ImportError:
    import simplejson as json

import sys, os

class Module(object):
    """Basic module behavior."""

    def prerequisites(self):
        """Make sure things that have to be present to continue are here."""
        return True

    def verify(self):
        """Check if we need to act.

        :return: True means already installed.
        """
        return True

    def install(self):
        """Ensure the resource is installed according to the args."""
        return True

    def remove(self):
        """Ensure that the resource is not present."""
        return True

    def run(self):
        """Execute the module according to the args passed in. Returns a structure ready for JSON."""
        result = dict(stub=True, msg="Just testing.")
        return result

class SshKey(Module):
    """Install or remove ssh keys."""
    pass

result = SshKey().run()
print json.dumps( result)
