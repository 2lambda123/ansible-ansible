language: python

env:
  matrix:
    - T=none

matrix:
  exclude:
    - env: T=none
  include:
    - env: T=units/3.8 D=test/units/cli/arguments/test_.*.py
    - env: T=units/3.8 D=test/units/cli/test_.*.py
    - env: T=units/3.8 D=test/units/config/manager/test_.*.py
    - env: T=units/3.8 D=test/units/config/test_.*.py
    - env: T=units/3.8 D=test/units/contrib/inventory/test_.*.py
    - env: T=units/3.8 D=test/units/errors/test_.*.py
    - env: T=units/3.8 D=test/units/executor/module_common/test_.*.py
    - env: T=units/3.8 D=test/units/executor/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/acme/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/aws/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/basic/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/cloud/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/common/parameters/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/common/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/common/text/converters/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/common/text/formatters/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/common/validation/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/docker/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/ec2/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/facts/hardware/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/facts/network/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/facts/other/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/facts/system/distribution/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/facts/system/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/facts/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/gcp/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/hwc/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/json_utils/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/net_tools/nios/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/net_tools/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/network/aci/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/network/common/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/network/ftd/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/network/nos/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/network/nso/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/network/slxos/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/parsing/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/postgresql/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/remote_management/dellemc/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/urls/test_.*.py
    - env: T=units/3.8 D=test/units/module_utils/xenserver/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/amazon/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/cloudstack/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/docker/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/google/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/kubevirt/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/linode/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/linode_v4/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/misc/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/misc/virt_net/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/openstack/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/vmware/test_.*.py
    - env: T=units/3.8 D=test/units/modules/cloud/xenserver/test_.*.py
    - env: T=units/3.8 D=test/units/modules/crypto/test_.*.py
    - env: T=units/3.8 D=test/units/modules/files/test_.*.py
    - env: T=units/3.8 D=test/units/modules/messaging/rabbitmq/test_.*.py
    - env: T=units/3.8 D=test/units/modules/monitoring/test_.*.py
    - env: T=units/3.8 D=test/units/modules/net_tools/nios/test_.*.py
    - env: T=units/3.8 D=test/units/modules/net_tools/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/aireos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/aruba/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/asa/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/checkpoint/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/cli/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/cloudvision/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/cnos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/cumulus/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/dellos10/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/dellos6/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/dellos9/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/edgeos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/edgeswitch/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/enos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/eos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/exos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/f5/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/fortimanager/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/fortios/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/frr/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/ftd/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/ingate/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/ios/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/iosxr/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/ironware/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/itential/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/junos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/netact/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/netscaler/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/netvisor/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/nos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/nso/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/nuage/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/nxos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/onyx/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/opx/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/ovs/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/radware/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/routeros/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/slxos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/voss/test_.*.py
    - env: T=units/3.8 D=test/units/modules/network/vyos/test_.*.py
    - env: T=units/3.8 D=test/units/modules/notification/test_.*.py
    - env: T=units/3.8 D=test/units/modules/packaging/language/test_.*.py
    - env: T=units/3.8 D=test/units/modules/packaging/os/test_.*.py
    - env: T=units/3.8 D=test/units/modules/remote_management/dellemc/ome/test_.*.py
    - env: T=units/3.8 D=test/units/modules/remote_management/lxca/test_.*.py
    - env: T=units/3.8 D=test/units/modules/remote_management/oneview/test_.*.py
    - env: T=units/3.8 D=test/units/modules/source_control/test_.*.py
    - env: T=units/3.8 D=test/units/modules/storage/hpe3par/test_.*.py
    - env: T=units/3.8 D=test/units/modules/storage/netapp/test_.*.py
    - env: T=units/3.8 D=test/units/modules/system/interfaces_file/test_.*.py
    - env: T=units/3.8 D=test/units/modules/system/test_.*.py
    - env: T=units/3.8 D=test/units/modules/web_infrastructure/test_.*.py
    - env: T=units/3.8 D=test/units/parsing/test_.*.py
    - env: T=units/3.8 D=test/units/parsing/utils/test_.*.py
    - env: T=units/3.8 D=test/units/parsing/vault/test_.*.py
    - env: T=units/3.8 D=test/units/parsing/yaml/test_.*.py
    - env: T=units/3.8 D=test/units/playbook/role/test_.*.py
    - env: T=units/3.8 D=test/units/playbook/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/action/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/cache/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/callback/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/cliconf/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/connection/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/filter/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/httpapi/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/inventory/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/lookup/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/shell/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/strategy/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/terminal/test_.*.py
    - env: T=units/3.8 D=test/units/plugins/test_.*.py
    - env: T=units/3.8 D=test/units/regex/test_.*.py
    - env: T=units/3.8 D=test/units/template/test_.*.py
    - env: T=units/3.8 D=test/units/test_.*.py
    - env: T=units/3.8 D=test/units/utils/test_.*.py
    - env: T=units/3.8 D=test/units/vars/test_.*.py


branches:
  except:
    - "*-patch-*"
    - "revert-*-*"

build:
  ci:
    - test/utils/shippable/timing.sh test/utils/shippable/shippable.sh $T

integrations:
  notifications:
    - integrationName: email
      type: email
      on_success: never
      on_failure: never
      on_start: never
      on_pull_request: never
    - integrationName: irc
      type: irc
      recipients:
      - "chat.freenode.net#ansible-notices"
      on_success: change
      on_failure: always
      on_start: never
      on_pull_request: always
    - integrationName: slack
      type: slack
      recipients:
      - "#shippable"
      on_success: change
      on_failure: always
      on_start: never
      on_pull_request: never
